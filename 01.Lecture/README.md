# Побитовые операции и поля

## Битовые операции

### Одноместные

```
~ Побитовая инверсия
```

### Двухместные

```
& И
| Или
^ XOR
<< Сдвиг влево
>> Сдвиг вправо
>>> Сдвиг вправо, затем обрезание влево
```

Логические операторы рассматривают любой ненулевой операнд как 1

### Побитовые сдвиги

#### Побитовый сдвиг влево (<<)

сдвиг влево/вправо на 1 эквивалентен умножению/делению на 2:

```
x >> 1 == x / 2
x << 1 == x * 2
```

побитовый сдвиг влево не определён, если:
- если сдвиг превышает операнд
- сдвиг имеет отрицательный знак


#### Побитовый сдвиг вправо (>>)

побитовый сдвиг вправо не определён:

- если сдвиг превышает операнд
- сдвиг имеет отрицательный знак

Если операнд имеет беззнаковый тип — арифметический сдвиг
Когда операнд знаковый — логический сдвиг

##### Арифметический сдвиг

операнд без знака - слева нули

```
11110101
01111010
```

##### Логический сдвиг

операнд со знаком - слева бит знака:
- если бит знака 0, то и слева нули
- если бит знака 1, то и слева единицы

### Исключающее ИЛИ – XOR 
операция при которой результат равен 1, когда только один аргумент равен 1

<img src=pics/01.png width=300>

- x ^ 1=~x (отрицание): Если 
- x ^ x= 0 (самообратимость)
- (x^y)^y=x (реверсивность)

### Побитовое И

Операция при которой результат равен 1, когда оба бита равны 1.

Побитовое И может быть использована для быстрой проверки чётности числа:

```
int32_t x = 17;
(x & 1) ? printf("Odd") : printf("Even");
```

## Структуры с побитовыми полями

Минимально возможный размер структуры в C — 1 байт, с одним полем типа  char.

В языке Си нет возможности создать структуру вида побитовый массив. Поэтому, с добавлением полей, размер структуры будет увеличиваться пропорционально самому большому полю в структуре.

Если записываемое значение превышает размер поля, то получим 0.

## Указатели на массивы

Указателями являются переменные, хранящие адрес.

Он имеет одинаковый размер и может хранить адрес для следующих сущностей:

1. переменной
2. другого указателя
3. массива (строки)
4. структуры
5. функции

### 1. Указатель на переменную

```
int i=123; // целочисленной переменной присвоили значение
int* pi;   // указательная переменная
pi = &i;   // указательной переменной присвоили адрес ячейки памяти i
```
### 2. Указатель на указатель

```
int **ppi; // указатель на указатель
ppi = &pi; // указателю на указатель присвоили адрес ячейки памяти pi
```

### 3. Указатель на структуру

